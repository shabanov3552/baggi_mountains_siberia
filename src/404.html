<!DOCTYPE html>
<html lang="ru">
@@include('html/_head.htm',{
"title":"404"
})

<body>
	@@include('html/_preloader.htm',{})
	<div class="wrapper">
		@@include('html/_header.htm',{})
		<main class="page">
			<div class="page__title page__title_404">
				<img src="@img/404.svg" alt="">
				<div class="page__subtitle">Страница не найдена</div>
			</div>
			<div class="page-contacts">
				<div class="page-contacts__container">
					<div class="page-contacts__form">
						<div class="reserv">
							<div class="reserv__container">
								<div class="reserv__row">
									<div class="reserv__header">
										<div class="reserv__title"><svg class="reserv__svg">
												<use xlink:href="@img/icons/icons.svg#svg-consultation_title"></use>
											</svg>
										</div>
										<div class="reserv__subtitle">Мы свяжемся с вами в ближайшее время.
										</div>
									</div>
									<div class="reserv__form">
										<form action="#" method="get" id="form" class="form">
											<div class="form__line">
												<label for="userName" class="form__label">Введите имя *</label>
												<input id="userName" autocomplete="off" type="text" name="form[]" class="form__input input" data-parsley-required>
												<span class="form__input-clear"><img src="@img/input_close.svg" alt=""></span>
											</div>
											<div class="form__line">
												<label for="userPhone" class="form__label">Введите номер телефона *</label>
												<input id="userPhone" autocomplete="off" type="phone" name="form[]" class="form__input js_phone" data-parsley-required>
												<span class="form__input-clear"><img src="@img/input_close.svg" alt=""></span>
											</div>
											<div class="form__line">
												<label for="userMail" class="form__label">E-mail *</label>
												<input id="userMail" autocomplete="off" type="email" name="form[]" class="form__input" data-parsley-required data-parsley-type="email">
												<span class="form__input-clear"><img src="@img/input_close.svg" alt=""></span>
											</div>
											<div class="form__line">
												<label for="userMessage" class="form__label">Комментарий *</label>
												<textarea id="userMessage" autocomplete="off" name="form[]" data-parsley-required class="form__input"></textarea>
												<span class="form__input-clear"><img src="@img/input_close.svg" alt=""></span>
											</div>
											<div class="form__row">
												<button type="submit" class="form__button button">Отправить</button>
												<div class="checkbox">
													<label for="c_1" class="checkbox__label"><span class="checkbox__text">Отправляя данные, я даю свое согласие на </span><a href="#" data-popup="#consent" class="checkbox__link">обработку перс. данных</a></label>
												</div>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="page-contacts__bg">
					<img class="page-contacts__bg-main" src="img/consult_bg.svg" alt="">
					<img class="page-contacts__bg-forest" src="img/technique_bg_forest.png" alt="">
				</div>
			</div>
		</main>
		<script type="text/javascript">
			function mapAdd() {
				let tag = document.createElement('script');
				tag.src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyDkdOdnUjEAP9Kht-yJcv1ZuIq4yIbZW-s&callback=mapInit";
				let firstScriptTag = document.getElementsByTagName('script')[0];
				firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
			}
			function mapInit(n = 1) {
				google.maps.Map.prototype.setCenterWithOffset = function (latlng, offsetX, offsetY) {
					var map = this;
					var ov = new google.maps.OverlayView();
					ov.onAdd = function () {
						var proj = this.getProjection();
						var aPoint = proj.fromLatLngToContainerPixel(latlng);
						aPoint.x = aPoint.x + offsetX;
						aPoint.y = aPoint.y + offsetY;
						map.panTo(proj.fromContainerPixelToLatLng(aPoint));
						//map.setCenter(proj.fromContainerPixelToLatLng(aPoint));
					}
					ov.draw = function () { };
					ov.setMap(this);
				};
				var markers = new Array();
				var infowindow = new google.maps.InfoWindow({
					//pixelOffset: new google.maps.Size(-230,250)
				});
				var locations = [
					[new google.maps.LatLng(56.0198503, 92.9996126)],
				]
				var options = {
					zoom: 14,
					panControl: false,
					mapTypeControl: false,
					center: locations[0][0],
					styles: [
						{
							"featureType": "all",
							"elementType": "all",
							"stylers": [
								{
									"invert_lightness": true
								}
							]
						},
						{
							"featureType": "all",
							"elementType": "labels.icon",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						},
						{
							"featureType": "landscape",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#405771"
								}
							]
						},
						{
							"featureType": "landscape.natural.landcover",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#1e3551"
								}
							]
						},
						{
							"featureType": "poi",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#2f455e"
								}
							]
						},
						{
							"featureType": "poi",
							"elementType": "labels",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#132940"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "geometry.stroke",
							"stylers": [
								{
									"color": "#2a5582"
								},
								{
									"weight": "0.01"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "labels",
							"stylers": [
								{
									"color": "#7d94ac"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "labels.text.fill",
							"stylers": [
								{
									"weight": "4.49"
								}
							]
						},
						{
							"featureType": "road",
							"elementType": "labels.text.stroke",
							"stylers": [
								{
									"weight": "0.01"
								}
							]
						},
						{
							"featureType": "road.highway",
							"elementType": "geometry.fill",
							"stylers": [
								{
									"color": "#405771"
								}
							]
						},
						{
							"featureType": "road.highway",
							"elementType": "geometry.stroke",
							"stylers": [
								{
									"color": "#405771"
								}
							]
						},
						{
							"featureType": "water",
							"elementType": "geometry",
							"stylers": [
								{
									"color": "#4c6786"
								}
							]
						},
						{
							"featureType": "water",
							"elementType": "labels",
							"stylers": [
								{
									"visibility": "off"
								}
							]
						}
					],
					scrollwheel: false,
					mapTypeId: google.maps.MapTypeId.ROADMAP
				};
				var map = new google.maps.Map(document.getElementById('map'), options);
				var icon = {
					url: 'img/map.svg',
					scaledSize: new google.maps.Size(24, 34),
					anchor: new google.maps.Point(9, 10)
				}
				for (var i = 0; i < locations.length; i++) {
					var marker = new google.maps.Marker({
						icon: icon,
						position: locations[i][0],
						map: map,
					});
					google.maps.event.addListener(marker, 'click', (function (marker, i) {
						return function () {
							for (var m = 0; m < markers.length; m++) {
								markers[m].setIcon(icon);
							}
							var cnt = i + 1;
							//infowindow.setContent(document.querySelector('.events-map__item_' + cnt).innerHTML);
							//infowindow.open(map, marker);
							marker.setIcon(icon);
							map.setCenterWithOffset(marker.getPosition(), 0, 0);
							setTimeout(function () {

							}, 10);
						}
					})(marker, i));
					markers.push(marker);
				}
				if (n) {
					var nc = n - 1;
					setTimeout(function () {
						google.maps.event.trigger(markers[nc], 'click');
					}, 500);
				}
			}
			if (document.querySelector('#map')) {
				mapAdd();
			}
		</script>
		@@include('html/_footer.htm',{})
	</div>
	@@include('html/_popup.htm',{})
	@@include('html/_js.htm',{})
</body>

</html>